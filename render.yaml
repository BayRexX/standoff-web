services:
  - type: web
    name: fps-game-client
    env: static
    plan: free
    region: oregon  # –∏–ª–∏ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º: frankfurt, ohio, oregon, singapore
    branch: main
    buildCommand: |
      echo "üõ†Ô∏è  Building FPS Game Client..."
      echo "üìÅ Current directory: $(pwd)"
      echo "üìÅ Contents:"
      ls -la
      echo "üìÅ Public folder contents:"
      ls -la public/ || echo "No public folder yet"
      echo "‚úÖ Build complete - static site ready"
    staticPublishPath: ./public
    envVars:
      - key: NODE_ENV
        value: production
      - key: RENDER
        value: true
    headers:
      # –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è HTML —Ñ–∞–π–ª–æ–≤
      - path: /*
        name: Content-Type
        value: "text/html; charset=UTF-8"
      - path: /*
        name: X-Content-Type-Options
        value: "nosniff"
      
      # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
      - path: /*.js
        name: Content-Type
        value: "application/javascript"
      - path: /*.css
        name: Content-Type
        value: "text/css"
      - path: /*.png
        name: Content-Type
        value: "image/png"
      - path: /*.jpg
        name: Content-Type
        value: "image/jpeg"
      - path: /*.gif
        name: Content-Type
        value: "image/gif"
      
      # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
      - path: /*
        name: X-Frame-Options
        value: "DENY"
      - path: /*
        name: X-XSS-Protection
        value: "1; mode=block"
      - path: /*
        name: Referrer-Policy
        value: "strict-origin-when-cross-origin"
      
      # CORS –¥–ª—è WebSocket
      - path: /*
        name: Access-Control-Allow-Origin
        value: "*"
      - path: /*
        name: Access-Control-Allow-Methods
        value: "GET, POST, OPTIONS"
      - path: /*
        name: Access-Control-Allow-Headers
        value: "Content-Type, Authorization"
    
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
    autoDeploy: true
    
    # –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
    preDeployCommand: |
      echo "üöÄ Starting pre-deploy..."
      echo "üìÅ Ensuring public directory exists..."
      mkdir -p public
      echo "‚úÖ Pre-deploy complete"
    
    # Health check
    healthCheckPath: /
    initialDeployTimeout: 600  # 10 –º–∏–Ω—É—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è
