<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>FPS Multiplayer Shooter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –ú–µ–Ω—é -->
    <div id="menu">
        <div class="menu-content">
            <h1>üéØ FPS Multiplayer Shooter</h1>
            <div class="controls-info">
                <h3>üì± –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:</h3>
                <ul>
                    <li>‚Ä¢ <strong>–î–≤–∏–∂–æ–∫ —Å–ª–µ–≤–∞</strong> - –¥–≤–∏–∂–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</li>
                    <li>‚Ä¢ <strong>–¢–∞—á —Å–ø—Ä–∞–≤–∞</strong> - –ø–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã</li>
                    <li>‚Ä¢ <strong>–ö–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∞</strong> - —Å—Ç—Ä–µ–ª—å–±–∞ –∏ –ø—Ä—ã–∂–æ–∫</li>
                </ul>
                <h3>üñ•Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ü–ö:</h3>
                <ul>
                    <li>‚Ä¢ <strong>WASD</strong> - –¥–≤–∏–∂–µ–Ω–∏–µ (–±—ã—Å—Ç—Ä–æ–µ)</li>
                    <li>‚Ä¢ <strong>SPACE</strong> - –ø—Ä—ã–∂–æ–∫</li>
                    <li>‚Ä¢ <strong>–ú—ã—à—å</strong> - –ø–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã</li>
                    <li>‚Ä¢ <strong>–õ–ö–ú</strong> - —Å—Ç—Ä–µ–ª—å–±–∞</li>
                    <li>‚Ä¢ <strong>Enter</strong> - –æ—Ç–∫—Ä—ã—Ç—å —á–∞—Ç</li>
                </ul>
            </div>
            <button class="btn btn-success" onclick="Game.start()">üéÆ –ù–ê–ß–ê–¢–¨ –ò–ì–†–£</button>
            <p class="server-info">
                –°–µ—Ä–≤–µ—Ä: <span id="serverUrl">wss://fps-game-server-raki.onrender.com</span>
            </p>
        </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div id="ui" class="hidden">
        <div class="health-container">
            <span>‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ: <span id="healthText">100</span></span>
            <div class="health-bar">
                <div id="healthFill"></div>
            </div>
        </div>
        <div class="stats">
            <span>üë• –ò–≥—Ä–æ–∫–æ–≤: <span id="playersText">1</span></span>
            <span>üéØ –£–±–∏–π—Å—Ç–≤: <span id="killsText">0</span></span>
            <span>üíÄ –°–º–µ—Ä—Ç–µ–π: <span id="deathsText">0</span></span>
        </div>
    </div>

    <!-- –ß–∞—Ç -->
    <button id="chatBtn" class="hidden" onclick="Chat.toggle()">üí¨</button>
    <div id="chatWindow" class="hidden">
        <div id="chatMessages"></div>
        <input type="text" id="chatInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ (Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏, Esc –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è)" maxlength="100">
    </div>

    <!-- –ò–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div id="crosshair" class="hidden"></div>
    
    <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
    <div id="mobileControls" class="hidden">
        <div id="moveJoystick">
            <div id="moveJoystickInner"></div>
        </div>
        <button id="jumpBtn" onclick="Controls.mobileJump()">‚Üë</button>
        <button id="shootBtn" onmousedown="Controls.startShooting()" ontouchstart="Controls.startShooting()" 
                onmouseup="Controls.stopShooting()" ontouchend="Controls.stopShooting()">üî´</button>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ü–ö -->
    <div id="pcControls" class="hidden">
        WASD - –¥–≤–∏–∂–µ–Ω–∏–µ | SPACE - –ø—Ä—ã–∂–æ–∫ | –õ–ö–ú - —Å—Ç—Ä–µ–ª—å–±–∞ | Enter - —á–∞—Ç
    </div>

    <!-- –ö–∞–Ω–≤–∞—Å –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <canvas id="gameCanvas"></canvas>
    <div id="notification" class="hidden"></div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Three.js –∏ –Ω–∞—à–∏ —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.155/build/three.min.js"></script>
    <script src="config.js"></script>
    <script src="network.js"></script>
    <script src="controls.js"></script>
    <script src="chat.js"></script>
    <script src="game.js"></script>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', () => {
            document.addEventListener('gesturestart', e => e.preventDefault());
            document.addEventListener('touchmove', e => {
                if (e.scale !== 1) e.preventDefault();
            }, { passive: false });
            
            Notification.show('üëÜ –ù–∞–∂–º–∏—Ç–µ "–ù–ê–ß–ê–¢–¨ –ò–ì–†–£"');
        });
    </script>
</body>
</html>
